class StudentApi{static URL="https://62054479161670001741b708.mockapi.io/api/contacts/";static getList(){return fetch(this.URL).then(t=>{if(t.ok)return t.json();throw new Error("Не могу получить список туду")})}static getOne(e){return fetch(this.URL+e).then(t=>{if(t.ok)return t.json();throw new Error(`Не могу получить  туду c id '${e}'`)})}static create(t){return fetch(this.URL,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"applicatuon/json"}}).then(t=>{if(t.ok)return t.json();throw new Error("Не могу создать  туду.")})}static update(t,e){return fetch(this.URL+t,{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(t=>{if(t.ok)return t.json();throw new Error("Не могу обновить туду.")})}static delete(t){return fetch(this.URL+t,{method:"DELETE"}).then(t=>{if(t.ok)return t.json();throw new Error("Не могу удалить  туду.")})}}const btn=document.querySelector("#btn"),studentlist=document.querySelector("#studentList"),writeName=document.querySelector("#firstName"),studentItemTemplate=document.querySelector("#studentItemTemplate").innerHTML;function init(){StudentApi.getList().then(renderStudentList).catch(handleError)}function onBtnClick(){var t=getStudents();isMessageValid(t)?(addStudentItem(t),clear()):alert("Поле не должно быть пустым")}function onListClic(t){var e=t.target.closest(".studentItem");e&&t.target.classList.contains("deleteBtn")&&removeStudent(e)}function removeStudent(t){var e=getStudentElId(t);StudentApi.delete(e).catch(handleError),t.remove()}function getStudentElId(t){return t.dataset.id}function getStudents(){return{firstName:writeName.value}}function isMessageValid(t){return""!==t.firstName.trim()}function addStudentItem(t){StudentApi.create(t).catch(handleError),renderStudentItem(t)}function renderStudentItem(t){t=genereteStudentHTML(t);studentlist.insertAdjacentHTML("beforeend",t)}function renderStudentList(t){t=t.map(genereteStudentHTML).join("");studentlist.insertAdjacentHTML("beforeend",t)}function genereteStudentHTML(t){return studentItemTemplate.replace("{{id}}",t.id).replace("{{firstName}}",t.firstName)}function handleError(t){alert(t.message)}function clear(){writeName.value=""}btn.addEventListener("click",onBtnClick),studentlist.addEventListener("click",onListClic),init();