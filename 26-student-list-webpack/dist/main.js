(()=>{"use strict";const t=class{static URL="https://62054479161670001741b708.mockapi.io/api/contacts/";static getList(){return fetch(this.URL).then((t=>{if(t.ok)return t.json();throw new Error("Не могу получить список туду")}))}static getOne(t){return fetch(this.URL+t).then((e=>{if(e.ok)return e.json();throw new Error(`Не могу получить  туду c id '${t}'`)}))}static create(t){return fetch(this.URL,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"applicatuon/json"}}).then((t=>{if(t.ok)return t.json();throw new Error("Не могу создать  туду.")}))}static update(t,e){return fetch(this.URL+t,{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>{if(t.ok)return t.json();throw new Error("Не могу обновить туду.")}))}static delete(t){return fetch(this.URL+t,{method:"DELETE"}).then((t=>{if(t.ok)return t.json();throw new Error("Не могу удалить  туду.")}))}},e=document.querySelector("#btn"),n=document.querySelector("#studentList"),r=document.querySelector("#firstName"),o=document.querySelector("#studentItemTemplate").innerHTML;function c(t){return o.replace("{{id}}",t.id).replace("{{firstName}}",t.firstName)}function i(t){alert(t.message)}e.addEventListener("click",(function(){const e={firstName:r.value};!function(t){return""!==t.firstName.trim()}(e)?alert("Поле не должно быть пустым"):(function(e){t.create(e).catch(i),function(t){const e=c(t);n.insertAdjacentHTML("beforeend",e)}(e)}(e),r.value="")})),n.addEventListener("click",(function(e){const n=e.target.closest(".studentItem");n&&e.target.classList.contains("deleteBtn")&&function(e){const n=e.dataset.id;t.delete(n).catch(i),e.remove()}(n)})),t.getList().then((function(t){const e=t.map(c).join("");n.insertAdjacentHTML("beforeend",e)})).catch(i)})();